(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[362],{8496:function(e,t,n){Promise.resolve().then(n.bind(n,3386))},3386:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var a=n(7437),r=n(2265),s=n(3887),l=n(2869),i=n(7053),o=n(535),d=n(4508);let c=(0,o.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function u(e){let{className:t,variant:n,asChild:r=!1,...s}=e,l=r?i.g7:"span";return(0,a.jsx)(l,{"data-slot":"badge",className:(0,d.cn)(c({variant:n}),t),...s})}var m=n(9027),x=n(2489);function p(e){let{...t}=e;return(0,a.jsx)(m.fC,{"data-slot":"dialog",...t})}function g(e){let{...t}=e;return(0,a.jsx)(m.xz,{"data-slot":"dialog-trigger",...t})}function h(e){let{...t}=e;return(0,a.jsx)(m.h_,{"data-slot":"dialog-portal",...t})}function v(e){let{className:t,...n}=e;return(0,a.jsx)(m.aV,{"data-slot":"dialog-overlay",className:(0,d.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function f(e){let{className:t,children:n,showCloseButton:r=!0,...s}=e;return(0,a.jsxs)(h,{"data-slot":"dialog-portal",children:[(0,a.jsx)(v,{}),(0,a.jsxs)(m.VY,{"data-slot":"dialog-content",className:(0,d.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...s,children:[n,r&&(0,a.jsxs)(m.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(x.Z,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function b(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,d.cn)("flex flex-col gap-2 text-center sm:text-left",t),...n})}function j(e){let{className:t,...n}=e;return(0,a.jsx)(m.Dx,{"data-slot":"dialog-title",className:(0,d.cn)("text-lg leading-none font-semibold",t),...n})}function y(e){let{className:t,...n}=e;return(0,a.jsx)(m.dk,{"data-slot":"dialog-description",className:(0,d.cn)("text-muted-foreground text-sm",t),...n})}function w(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,d.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...n})}function N(e){let{className:t,...n}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,d.cn)("px-6",t),...n})}var k=n(2451),_=n(407);function S(e){let{className:t,...n}=e;return(0,a.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,d.cn)("mx-auto flex w-full justify-center",t),...n})}function C(e){let{className:t,...n}=e;return(0,a.jsx)("ul",{"data-slot":"pagination-content",className:(0,d.cn)("flex flex-row items-center gap-1",t),...n})}function z(e){let{...t}=e;return(0,a.jsx)("li",{"data-slot":"pagination-item",...t})}function A(e){let{className:t,isActive:n,size:r="icon",...s}=e;return(0,a.jsx)("a",{"aria-current":n?"page":void 0,"data-slot":"pagination-link","data-active":n,className:(0,d.cn)((0,l.d)({variant:n?"outline":"ghost",size:r}),t),...s})}function E(e){let{className:t,...n}=e;return(0,a.jsxs)(A,{"aria-label":"Go to previous page",size:"default",className:(0,d.cn)("gap-1 px-2.5 sm:pl-2.5",t),...n,children:[(0,a.jsx)(k.Z,{}),(0,a.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function L(e){let{className:t,...n}=e;return(0,a.jsxs)(A,{"aria-label":"Go to next page",size:"default",className:(0,d.cn)("gap-1 px-2.5 sm:pr-2.5",t),...n,children:[(0,a.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,a.jsx)(_.Z,{})]})}var I=n(7648),M=n(2660),O=n(4156),F=n(1933);function V(e){let{...t}=e;return(0,a.jsx)(F.fC,{"data-slot":"popover",...t})}function Y(e){let{...t}=e;return(0,a.jsx)(F.xz,{"data-slot":"popover-trigger",...t})}function B(e){let{className:t,align:n="center",sideOffset:r=4,...s}=e;return(0,a.jsx)(F.h_,{children:(0,a.jsx)(F.VY,{"data-slot":"popover-content",align:n,sideOffset:r,className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...s})})}var D=n(6343),P=n(3247);function T(e){let{className:t,...n}=e;return(0,a.jsx)(D.mY,{"data-slot":"command",className:(0,d.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...n})}function Z(e){let{title:t="Command Palette",description:n="Search for a command to run...",children:r,className:s,showCloseButton:l=!0,...i}=e;return(0,a.jsxs)(p,{...i,children:[(0,a.jsxs)(b,{className:"sr-only",children:[(0,a.jsx)(j,{children:t}),(0,a.jsx)(y,{children:n})]}),(0,a.jsx)(f,{className:(0,d.cn)("overflow-hidden p-0",s),showCloseButton:l,children:(0,a.jsx)(T,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:r})})]})}function G(e){let{className:t,...n}=e;return(0,a.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,a.jsx)(P.Z,{className:"size-4 shrink-0 opacity-50"}),(0,a.jsx)(D.mY.Input,{"data-slot":"command-input",className:(0,d.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...n})]})}function J(e){let{className:t,...n}=e;return(0,a.jsx)(D.mY.List,{"data-slot":"command-list",className:(0,d.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...n})}function U(e){let{...t}=e;return(0,a.jsx)(D.mY.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function W(e){let{className:t,...n}=e;return(0,a.jsx)(D.mY.Group,{"data-slot":"command-group",className:(0,d.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...n})}function R(e){let{className:t,...n}=e;return(0,a.jsx)(D.mY.Item,{"data-slot":"command-item",className:(0,d.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function X(e){let{label:t,placeholder:n,inputValue:s,onInputChange:l,items:i,emptyText:o="No results",onSelect:c,className:u}=e,m=function(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),n=()=>{t(window.innerWidth<768)};return e.addEventListener("change",n),t(window.innerWidth<768),()=>e.removeEventListener("change",n)},[]),!!e}(),[p,g]=r.useState(!1),[h,v]=r.useState(s);r.useEffect(()=>{v(s)},[s]);let f=(0,d.cn)("rounded-md bg-black/40 border border-gray-700 px-3 py-2 text-gray-100 placeholder-gray-400 outline-none focus:border-cyan-500 w-full text-left flex items-center justify-between gap-2"),b=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(G,{value:h,onValueChange:e=>{v(e),l(e)},placeholder:n,className:"h-11"}),(0,a.jsxs)(J,{children:[(0,a.jsx)(U,{children:o}),(0,a.jsx)(W,{children:i.map(e=>(0,a.jsx)(R,{value:e.label,onSelect:()=>{c(e),g(!1)},children:(0,a.jsxs)("div",{className:"flex min-w-0 items-center justify-between gap-3 w-full",children:[(0,a.jsx)("span",{className:"truncate",children:e.label}),e.meta?(0,a.jsx)("span",{className:"text-muted-foreground text-xs truncate",children:e.meta}):null]})},"".concat(e.value,"|").concat(e.label)))})]})]});return(0,a.jsxs)("div",{className:(0,d.cn)("flex flex-col",u),children:[t?(0,a.jsx)("label",{className:"text-sm text-gray-300 mb-2",children:t}):null,m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{type:"button",onClick:()=>g(!0),className:f,children:[(0,a.jsx)("span",{className:(0,d.cn)("truncate",s?void 0:"text-gray-400"),children:s||n}),(0,a.jsx)(O.Z,{className:"size-4 opacity-60"})]}),(0,a.jsx)(Z,{open:p,onOpenChange:g,showCloseButton:!0,children:b})]}):(0,a.jsxs)(V,{open:p,onOpenChange:g,children:[(0,a.jsx)(Y,{asChild:!0,children:(0,a.jsxs)("button",{type:"button",className:f,onClick:()=>g(e=>!e),children:[(0,a.jsx)("span",{className:(0,d.cn)("truncate",s?void 0:"text-gray-400"),children:s||n}),(0,a.jsx)(O.Z,{className:"size-4 opacity-60"})]})}),(0,a.jsx)(B,{className:"p-0 w-[360px]",align:"start",children:(0,a.jsx)(T,{children:b})})]}),!!s&&(0,a.jsxs)("button",{type:"button",className:"self-end mt-1 text-xs text-gray-400 hover:text-gray-200 inline-flex items-center gap-1",onClick:()=>{l(""),g(!1)},"aria-label":"Clear selection",children:[(0,a.jsx)(x.Z,{className:"size-3"})," Clear"]})]})}let q=(0,s.eI)("https://egtttatimmnyxoivqcoi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVndHR0YXRpbW1ueXhvaXZxY29pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5OTQ4NjEsImV4cCI6MjA3MjU3MDg2MX0.JleNsgQr4LfSikOqnQKRnPlBCzg2zlEiPPbLSDG9xmE");function $(){let[e,t]=(0,r.useState)(""),[n,s]=(0,r.useState)(null),[i,o]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[x,p]=(0,r.useState)(null),[g,h]=(0,r.useState)("rating"),[v,f]=(0,r.useState)("desc"),[b,j]=(0,r.useState)([]),[y,k]=(0,r.useState)([]),[_,O]=(0,r.useState)(!0),[F,V]=(0,r.useState)(),[Y,B]=(0,r.useState)({}),[D,P]=(0,r.useState)({}),[T,Z]=(0,r.useState)(0),[G,J]=(0,r.useState)(0),U=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,[n,a]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let n=setTimeout(()=>a(e),t);return()=>clearTimeout(n)},[e,t]),n}(e,300),[W,R]=(0,r.useState)([]),[$,H]=(0,r.useState)(!1),K=(0,r.useMemo)(()=>Array.from(new Set(b.map(e=>e.gpu).filter(Boolean))),[b]);function ee(e){return(null!=e?e:"").toLowerCase().replace(/\s+/g," ").trim()}function et(e){return(null!=e?e:"").toLowerCase().replace(/[^a-z0-9]+/g,"").trim()}async function en(e){let t=new Set(e.map(e=>ee(e))),n=new Set(e.map(e=>et(e))),a=function(){var e;let t=window,n=null==t?void 0:null===(e=t.__NEXT_DATA__)||void 0===e?void 0:e.assetPrefix;if("string"==typeof n&&n.length>0)return n.replace(/\/$/,"");let a=document.querySelector('script[src*="_buildManifest"]');if(null==a?void 0:a.src){let e=a.src.match(/^(.*)\/_next\//);if(e)return e[1]}return""}(),r=(function(e){if(e.length>=2){let t=e[0],n=e[1];if(255===t&&254===n)return new TextDecoder("utf-16le").decode(e.subarray(2)).replace(/^\uFEFF/,"");if(254===t&&255===n){let t=new Uint8Array(e.length-2);for(let n=2;n+1<e.length;n+=2)t[n-2]=e[n+1],t[n-1]=e[n];return new TextDecoder("utf-16le").decode(t).replace(/^\uFEFF/,"")}}let t=new TextDecoder("utf-8").decode(e);return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t.replace(/\u0000/g,"")})(new Uint8Array(await fetch("".concat(a,"/supported_devices.csv")).then(e=>e.arrayBuffer()))).split(/\r?\n/),s={},l={};for(let e=1;e<r.length;e++){var i,o,d;let a=r[e];if(!a)continue;let c=function(e){let t=[],n="",a=!1;for(let r=0;r<e.length;r++){let s=e[r];'"'===s?a&&'"'===e[r+1]?(n+='"',r++):a=!a:","!==s||a?n+=s:(t.push(n),n="")}return t.push(n),t.map(e=>e.replace(/^"|"$/g,""))}(a);if(c.length<4)continue;let u=null===(i=c[0])||void 0===i?void 0:i.replace(/^"|"$/g,"").trim(),m=null===(o=c[1])||void 0===o?void 0:o.replace(/^"|"$/g,"").trim(),x=null===(d=c[3])||void 0===d?void 0:d.replace(/^"|"$/g,"").trim(),p=null!=x?x:"",g="".concat(null!=u?u:""," ").concat(p).trim(),h="".concat(null!=u?u:""," ").concat(null!=m?m:"").trim();if(!g||!h)continue;let v=ee(g),f=ee(p),b=et(g),j=et(p);(t.has(v)||t.has(f)||n.has(b)||n.has(j))&&(g in s||(s[g]=h),h in l||(l[h]=g))}return{mapping:s,displays:l}}(0,r.useEffect)(()=>{(async()=>{let{data:e,error:t}=await q.from("devices").select("*").order("model");if(t){V(t.message);return}j(null!=e?e:[])})()},[]),(0,r.useEffect)(()=>{(async()=>{if(!b.length){B({});return}try{let e=b.map(e=>e.model),{mapping:t,displays:n}=await en(e);B(null!=t?t:{}),P(null!=n?n:{}),console.log("Marketing map is ".concat(JSON.stringify(t))),console.log("Marketing displays is ".concat(JSON.stringify(n)))}catch(e){console.error("marketing-map error",e),B({})}})()},[b]),(0,r.useEffect)(()=>{Z(0)},[n,i,u,x,g,v]),(0,r.useEffect)(()=>{(async()=>{if(!(n||i||u||null!==x)){k([]),O(!1),J(0);return}O(!0);try{let e=q.from("game_runs").select("id,\n             device_id,\n             rating,\n             avg_fps,\n             tags,\n             notes,\n             configs,\n             created_at,\n             app_version_id,\n             app_version:app_versions(semver),\n             game:games(name),\n             device:devices(id,model,gpu,android_ver)",{count:"exact"}).order(g,{ascending:"asc"===v}).range(200*T,200*T+200-1);n&&(e=e.eq("game_id",Number(n))),i&&(e=e.eq("device_id",Number(i))),u&&(e=e.ilike("device.gpu","%".concat(u,"%"))),null!==x&&(e=e.gte("rating",x));let{data:t,error:a,count:r}=await e;if(a)throw a;let s=(null!=t?t:[]).map(e=>{var t,n,a,r,s,l;return{...e,game:Array.isArray(e.game)?null!==(t=e.game[0])&&void 0!==t?t:null:null!==(n=e.game)&&void 0!==n?n:null,device:Array.isArray(e.device)?null!==(a=e.device[0])&&void 0!==a?a:null:null!==(r=e.device)&&void 0!==r?r:null,app_version:Array.isArray(e.app_version)?null!==(s=e.app_version[0])&&void 0!==s?s:null:null!==(l=e.app_version)&&void 0!==l?l:null}});k(s),J(null!=r?r:0),V(void 0)}catch(e){V(e.message)}finally{O(!1)}})()},[n,i,u,x,T,g,v]),(0,r.useEffect)(()=>{(async()=>{if(!U){R([]),H(!1);return}H(!0);let{data:e,error:t}=await q.from("games").select("id,name").ilike("name","%".concat(U,"%")).order("name").limit(10);t||R(null!=e?e:[]),H(!1)})()},[U]);let ea=e=>"".concat(e.model).concat(e.android_ver?" (Android ".concat(e.android_ver,")"):""),er=e=>e.toLowerCase().replace(/\s+/g," ").trim(),es=(0,r.useMemo)(()=>{let e={};return Object.entries(D).forEach(t=>{let[n,a]=t;e[er(n)]=a}),e},[D]),el=(0,r.useMemo)(()=>{let e={};return Object.entries(Y).forEach(t=>{let[n,a]=t;e[er(n)]=a,e[er(n.split(" ").slice(1).join(" ")||n)]=a}),Object.entries(D).forEach(t=>{let[n,a]=t,r=er(a);e[r]||(e[r]=n);let s=er(a.split(" ").slice(1).join(" ")||a);e[s]||(e[s]=n)}),e},[Y,D]),ei=(0,r.useMemo)(()=>{let e=new Set;return Object.values(D).forEach(t=>{let n=t.split(" ").slice(1).join(" ")||t;e.add(er(t)),e.add(er(n))}),e},[D]);console.log("Covered model set is ".concat(ei));let eo=e=>{if(Number.isFinite(Number(e))&&""!==e.trim())return e;let t=er(e),n=es[t];if(n){let e=n.split(" ").slice(1).join(" ")||n,t=b.find(t=>er(t.model)===er(n)||er(t.model)===er(e));if(t)return String(t.id)}let a=b.find(e=>{var n;let a=ea(e),r=e.model,s="".concat(e.model," (").concat(null!==(n=e.android_ver)&&void 0!==n?n:"Android",")");return er(a)===t||er(r)===t||er(s)===t});return a?String(a.id):""},ed=null==F?void 0:F.includes("Supabase is not configured"),ec=!!(n||i||u||null!==x);return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-black to-cyan-900 relative overflow-hidden",children:(0,a.jsxs)("div",{className:"container max-w-6xl mx-auto px-4 py-12 relative z-10",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)(l.z,{asChild:!0,variant:"ghost",className:"text-cyan-400 hover:text-cyan-300 mb-4",children:(0,a.jsxs)(I.default,{href:"/",children:[(0,a.jsx)(M.Z,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent mb-4",children:"Compatibility"}),(0,a.jsx)("p",{className:"text-gray-300 text-lg",children:"See if your game will work on your device using GameNative or Winlator"})]}),(0,a.jsx)(w,{className:"bg-gray-900/50 border-gray-700 backdrop-blur-sm mb-6",children:(0,a.jsx)(N,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,a.jsx)(X,{label:"Search by Game",placeholder:"Elden Ring",inputValue:e,onInputChange:e=>{t(e);let n=W.find(t=>t.name===e);s(n?n.id:null)},items:W.map(e=>({value:String(e.id),label:e.name})),emptyText:$?"Loading...":"No results",onSelect:e=>{t(e.label),s(Number(e.value))}}),(0,a.jsx)(X,{label:"Device",placeholder:"Google Pixel 7",inputValue:d,onInputChange:e=>{c(e),o(eo(e))},items:[...Object.entries(D).map(e=>{let[t,n]=e;return{value:t,label:t,meta:n}}),...b.filter(e=>!ei.has(er(e.model))).map(e=>({value:String(e.id),label:ea(e)}))],onSelect:e=>{c(e.label),o(eo(e.label))}}),(0,a.jsx)(X,{label:"GPU",placeholder:"Adreno 730",inputValue:u,onInputChange:e=>m(e),items:K.map(e=>({value:e,label:e})),onSelect:e=>m(e.label)}),(0,a.jsx)(X,{label:"Rating",placeholder:null!==x?5===x?"5":"".concat(x," & above"):"Any",inputValue:"",onInputChange:()=>{},items:[{value:"",label:"Any"},{value:"5",label:"5"},{value:"4",label:"4 & above"},{value:"3",label:"3 & above"},{value:"2",label:"2 & above"},{value:"1",label:"1 & above"}],onSelect:e=>{p(e.value?Number(e.value):null)}})]})})}),ed&&(0,a.jsx)("div",{className:"mb-6 rounded-md border border-yellow-600/40 bg-yellow-900/20 p-4 text-yellow-200",children:"Supabase is not configured. Add SUPABASE_URL and SUPABASE_ANON_KEY to enable live data."}),(0,a.jsx)(w,{className:"bg-gray-900/50 border-gray-700",children:(0,a.jsxs)(N,{className:"p-0",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsx)(Q,{rows:y,loading:_,errorMessage:F,hasFilters:ec,modelToMarketing:el,sortField:g,sortDir:v,onSortChange:e=>{e===g?f(e=>"asc"===e?"desc":"asc"):(h(e),f("desc"))}})}),ec&&!_&&G>0&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-between gap-3 px-4 py-3 border-t border-gray-800",children:[(0,a.jsx)(S,{children:(0,a.jsxs)(C,{children:[(0,a.jsx)(z,{children:(0,a.jsx)(E,{href:"#",onClick:e=>{e.preventDefault(),Z(e=>Math.max(0,e-1))},"aria-disabled":0===T,className:0===T?"pointer-events-none opacity-50":""})}),(0,a.jsx)(z,{children:(0,a.jsx)(A,{href:"#",isActive:!0,size:"default",children:T+1})}),(0,a.jsx)(z,{children:(0,a.jsx)(L,{href:"#",onClick:e=>{e.preventDefault();let t=Math.max(0,Math.ceil(G/200)-1);Z(e=>Math.min(t,e+1))},"aria-disabled":T>=Math.ceil(G/200)-1,className:T>=Math.ceil(G/200)-1?"pointer-events-none opacity-50":""})})]})}),(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:(()=>{let e=200*T+1,t=Math.min((T+1)*200,G);return"Showing ".concat(e,"–").concat(t," of ").concat(G)})()})]})]})})]})})}function Q(e){let{rows:t,loading:n,errorMessage:r,hasFilters:s,modelToMarketing:i,sortField:o,sortDir:d,onSortChange:c}=e;return n?(0,a.jsx)("div",{className:"p-6 text-gray-300",children:"Loading…"}):r?(0,a.jsxs)("div",{className:"p-6 text-red-300",children:["Error: ",r]}):t.length?(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-black/40 text-gray-300",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)(H,{children:"Game"}),(0,a.jsx)(H,{children:"Device"}),(0,a.jsx)(H,{children:"GPU"}),(0,a.jsx)(H,{children:"Android"}),(0,a.jsx)(H,{children:"App Ver"}),(0,a.jsx)(H,{children:(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center gap-1 hover:text-cyan-300",onClick:()=>c("rating"),children:[(0,a.jsx)("span",{children:"Rating"}),"rating"===o?"asc"===d?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m18 15-6-6-6 6"})}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6"})}):null]})}),(0,a.jsx)(H,{children:"Avg FPS"}),(0,a.jsx)(H,{children:"Tags"}),(0,a.jsx)(H,{children:"Notes"}),(0,a.jsx)(H,{children:"Configs"}),(0,a.jsx)(H,{children:(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center gap-1 hover:text-cyan-300",onClick:()=>c("created_at"),children:[(0,a.jsx)("span",{children:"Created"}),"created_at"===o?"asc"===d?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m18 15-6-6-6 6"})}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6"})}):null]})})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-800 text-gray-100",children:t.map(e=>{var t,n,r,s,o,d,c,m,x,h,v,y,w;return(0,a.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,a.jsx)(K,{children:null!==(d=null===(t=e.game)||void 0===t?void 0:t.name)&&void 0!==d?d:"-"}),(0,a.jsx)(K,{children:(null===(n=e.device)||void 0===n?void 0:n.model)?null!==(m=null!==(c=i[e.device.model.toLowerCase()])&&void 0!==c?c:i[e.device.model.split(" ").slice(1).join(" ").toLowerCase()])&&void 0!==m?m:e.device.model:"-"}),(0,a.jsx)(K,{children:null!==(x=null===(r=e.device)||void 0===r?void 0:r.gpu)&&void 0!==x?x:"-"}),(0,a.jsx)(K,{children:null!==(h=null===(s=e.device)||void 0===s?void 0:s.android_ver)&&void 0!==h?h:"-"}),(0,a.jsx)(K,{children:null!==(v=null===(o=e.app_version)||void 0===o?void 0:o.semver)&&void 0!==v?v:"-"}),(0,a.jsx)(K,{children:(0,a.jsx)("span",{className:"font-semibold text-cyan-300",children:e.rating})}),(0,a.jsx)(K,{children:"number"==typeof e.avg_fps?e.avg_fps.toFixed(0):"-"}),(0,a.jsx)(K,{children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:Array.isArray(e.tags)?e.tags.map(e=>(0,a.jsx)(u,{variant:"secondary",className:"bg-cyan-900/30 text-cyan-200 border-cyan-700/40",children:function(e){let t=e.replace(/_/g," ");return t.charAt(0).toUpperCase()+t.slice(1)}(e)},e)):null})}),(0,a.jsx)(K,{children:(0,a.jsx)("span",{className:"max-w-[240px] inline-block align-top whitespace-pre-wrap break-words",title:null!==(y=e.notes)&&void 0!==y?y:"",children:null!==(w=e.notes)&&void 0!==w?w:""})}),(0,a.jsx)(K,{children:e.configs?(0,a.jsxs)(p,{children:[(0,a.jsx)(g,{asChild:!0,children:(0,a.jsx)(l.z,{variant:"outline",size:"sm",className:"h-7 px-2",children:"View"})}),(0,a.jsxs)(f,{className:"sm:max-w-2xl",children:[(0,a.jsx)(b,{children:(0,a.jsx)(j,{children:"Configs"})}),(0,a.jsx)("div",{className:"mt-2 max-h-[70vh] overflow-auto",children:(0,a.jsx)(ee,{data:e.configs})})]})]}):(0,a.jsx)("span",{children:"-"})}),(0,a.jsx)(K,{children:e.created_at?new Date(e.created_at).toLocaleString():"-"})]},e.id)})})]}):(0,a.jsx)("div",{className:"p-6 text-gray-300",children:s?"No results found.":"Add a filter to get started"})}function H(e){let{children:t}=e;return(0,a.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:t})}function K(e){let{children:t}=e;return(0,a.jsx)("td",{className:"px-4 py-3 align-top",children:t})}function ee(e){let{data:t,level:n=0}=e;return null==t?(0,a.jsx)("div",{className:"text-gray-400",children:"-"}):"string"==typeof t||"number"==typeof t||"boolean"==typeof t?(0,a.jsx)("div",{className:"text-gray-200 break-words whitespace-pre-wrap",children:String(t)}):Array.isArray(t)?(0,a.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>(0,a.jsx)("div",{className:"pl-3 border-l border-gray-700",children:(0,a.jsx)(ee,{data:e,level:n+1})},t))}):(0,a.jsx)("div",{className:"space-y-2",children:Object.entries(t).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"grid grid-cols-[180px_1fr] gap-3",children:[(0,a.jsx)("div",{className:"text-xs uppercase tracking-wide text-cyan-300 font-semibold truncate",children:t.replace(/_/g," ")}),(0,a.jsx)("div",{className:"min-w-0",children:(0,a.jsx)(ee,{data:r,level:n+1})})]},t)})})}},2869:function(e,t,n){"use strict";n.d(t,{d:function(){return i},z:function(){return o}});var a=n(7437);n(2265);var r=n(7053),s=n(535),l=n(4508);let i=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:n,size:s,asChild:o=!1,...d}=e,c=o?r.g7:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,l.cn)(i({variant:n,size:s,className:t})),...d})}},4508:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var a=n(1994),r=n(3335);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[972,688,290,971,117,744],function(){return e(e.s=8496)}),_N_E=e.O()}]);